version: "3.1"

stories:
  # =============== BASIC FLOWS ===============
  - story: basic greeting
    steps:
      - intent: greet
      - action: utter_greet

  - story: user wants to ask something
    steps:
      - intent: inform
      - action: utter_ask_clarify

  - story: say goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - story: thank you
    steps:
      - intent: thank_you
      - action: utter_you_are_welcome

  # =============== MAIN FEATURE FLOWS ===============
  - story: ask about programs
    steps:
      - intent: tanya_prodi_tersedia
      - action: action_query_prodi

  - story: ask about tuition fees
    steps:
      - intent: tanya_biaya_kuliah
      - action: action_query_biaya

  # =============== QNA CONVERSATION FLOWS ===============
  - story: ask about admission paths
    steps:
      - intent: tanya_jalur_pendaftaran
      - action: action_answer_qna_static # FIXED: Ganti dari action_answer_qna

  - story: ask about admission requirements
    steps:
      - intent: tanya_syarat_pendaftaran
      - action: action_answer_qna_static # FIXED

  - story: ask how to register
    steps:
      - intent: cara_mendaftar
      - action: action_answer_qna_static # FIXED

  - story: ask about scholarships
    steps:
      - intent: tanya_beasiswa
      - action: action_answer_qna_static # FIXED

  # =============== COMPLEX CONVERSATION FLOWS ===============
  - story: greet then ask about programs
    steps:
      - intent: greet
      - action: utter_greet
      - intent: tanya_prodi_tersedia
      - action: action_query_prodi
      - intent: thank_you
      - action: utter_you_are_welcome

  - story: multiple questions flow
    steps:
      - intent: greet
      - action: utter_greet
      - intent: tanya_prodi_tersedia
      - action: action_query_prodi
      - intent: tanya_biaya_kuliah
      - action: action_query_biaya
      - intent: tanya_beasiswa
      - action: action_answer_qna_static # FIXED
      - intent: goodbye
      - action: utter_goodbye

  # =============== FALLBACK HANDLING ===============
  - story: fallback response
    steps:
      - intent: nlu_fallback
      - action: action_default_fallback
